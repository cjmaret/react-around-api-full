{"ast":null,"code":"import _slicedToArray from\"/Users/colinmaretsky/dev/react-around-api-full/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];React.useEffect(function(){setName(currentUser===null||currentUser===void 0?void 0:currentUser.name);setDescription(currentUser===null||currentUser===void 0?void 0:currentUser.about);},[currentUser,props.isOpen]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();props.onRenderLoading();props.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"edit\",title:\"Edit profile\",loadingText:\"Saving...\",buttonText:\"Save changes\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,isLoading:props.isLoading,children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-box__inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-box__input-group\",children:[/*#__PURE__*/_jsx(\"input\",{value:name||'',id:\"title-input\",className:\"edit-box__input edit-box__input_type_title\",type:\"text\",name:\"username\",placeholder:\"Name\",minLength:\"2\",maxLength:\"40\",onChange:handleNameChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"title-input-error\",className:\"edit-box__input-error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-box__input-group\",children:[/*#__PURE__*/_jsx(\"input\",{value:description||'',id:\"subtitle-input\",className:\"edit-box__input edit-box__input_type_description\",type:\"text\",name:\"userdescription\",placeholder:\"Description\",minLength:\"2\",maxLength:\"200\",onChange:handleDescriptionChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"subtitle-input-error\",className:\"edit-box__input-error\"})]})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/colinmaretsky/dev/react-around-api-full/frontend/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","isOpen","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","onRenderLoading","onUpdateUser","onClose","isLoading"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAE7B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CACA,oBAAwBF,KAAK,CAACO,QAAN,EAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCT,KAAK,CAACO,QAAN,EAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEAX,KAAK,CAACY,SAAN,CAAgB,UAAM,CAClBH,OAAO,CAACJ,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAEG,IAAd,CAAP,CACAG,cAAc,CAACN,WAAD,SAACA,WAAD,iBAACA,WAAW,CAAEQ,KAAd,CAAd,CACH,CAHD,CAGG,CAACR,WAAD,CAAcD,KAAK,CAACU,MAApB,CAHH,EAKA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CACzBP,OAAO,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAChCL,cAAc,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAGD,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACrBA,CAAC,CAACK,cAAF,GACAjB,KAAK,CAACkB,eAAN,GACAlB,KAAK,CAACmB,YAAN,CAAmB,CACff,IAAI,CAAJA,IADe,CAEfK,KAAK,CAAEH,WAFQ,CAAnB,EAIH,CAGD,mBACI,KAAC,aAAD,EAAe,IAAI,CAAC,MAApB,CAA2B,KAAK,CAAC,cAAjC,CAAgD,WAAW,CAAC,WAA5D,CAAwE,UAAU,CAAC,cAAnF,CAAkG,MAAM,CAAEN,KAAK,CAACU,MAAhH,CAAwH,OAAO,CAAEV,KAAK,CAACoB,OAAvI,CAAgJ,QAAQ,CAAEJ,YAA1J,CAAwK,SAAS,CAAEhB,KAAK,CAACqB,SAAzL,uBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,aAAK,SAAS,CAAC,uBAAf,wBACI,cAAO,KAAK,CAAEjB,IAAI,EAAI,EAAtB,CAA0B,EAAE,CAAC,aAA7B,CAA2C,SAAS,CAAC,4CAArD,CAAkG,IAAI,CAAC,MAAvG,CACI,IAAI,CAAC,UADT,CACoB,WAAW,CAAC,MADhC,CACuC,SAAS,CAAC,GADjD,CACqD,SAAS,CAAC,IAD/D,CACoE,QAAQ,CAAEO,gBAD9E,CACgG,QAAQ,KADxG,EADJ,cAGI,aAAM,EAAE,CAAC,mBAAT,CAA6B,SAAS,CAAC,uBAAvC,EAHJ,GADJ,cAMI,aAAK,SAAS,CAAC,uBAAf,wBACI,cAAO,KAAK,CAAEL,WAAW,EAAI,EAA7B,CAAiC,EAAE,CAAC,gBAApC,CAAqD,SAAS,CAAC,kDAA/D,CAAkH,IAAI,CAAC,MAAvH,CACI,IAAI,CAAC,iBADT,CAC2B,WAAW,CAAC,aADvC,CACqD,SAAS,CAAC,GAD/D,CACmE,SAAS,CAAC,KAD7E,CACmF,QAAQ,CAAES,uBAD7F,CACsH,QAAQ,KAD9H,EADJ,cAGI,aAAM,EAAE,CAAC,sBAAT,CAAgC,SAAS,CAAC,uBAA1C,EAHJ,GANJ,GADJ,EADJ,CAgBH,CAED,cAAehB,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState();\n    const [description, setDescription] = React.useState();\n\n    React.useEffect(() => {\n        setName(currentUser?.name);\n        setDescription(currentUser?.about)\n    }, [currentUser, props.isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n    \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRenderLoading();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n\n    return (\n        <PopupWithForm name=\"edit\" title=\"Edit profile\" loadingText=\"Saving...\" buttonText=\"Save changes\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isLoading={props.isLoading}>\n            <div className=\"edit-box__inputs\">\n                <div className=\"edit-box__input-group\">\n                    <input value={name || ''} id=\"title-input\" className=\"edit-box__input edit-box__input_type_title\" type=\"text\"\n                        name=\"username\" placeholder=\"Name\" minLength=\"2\" maxLength=\"40\" onChange={handleNameChange} required />\n                    <span id=\"title-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n                <div className=\"edit-box__input-group\">\n                    <input value={description || ''} id=\"subtitle-input\" className=\"edit-box__input edit-box__input_type_description\" type=\"text\"\n                        name=\"userdescription\" placeholder=\"Description\" minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange} required />\n                    <span id=\"subtitle-input-error\" className=\"edit-box__input-error\"></span>\n                </div>\n            </div>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}