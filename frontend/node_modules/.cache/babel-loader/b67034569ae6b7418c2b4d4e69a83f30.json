{"ast":null,"code":"var _jsxFileName = \"/Users/colinmaretsky/dev/react-around-auth/src/components/PopupWithForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PopupWithForm(props) {\n  _s();\n\n  React.useEffect(() => {\n    function close(e) {\n      if (e.key === 'Escape') {\n        props.onClose();\n      }\n    }\n\n    ;\n    props.isOpen && window.addEventListener('keydown', close);\n    return () => window.removeEventListener('keydown', close);\n  }, [props]);\n\n  function handleClickOutside(e) {\n    if (e.target.classList.contains('modal')) {\n      e.preventDefault();\n      props.onClose();\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `modal modal_type_${props.name} ${props.isOpen ? 'modal_open' : ''}`,\n      onClick: handleClickOutside,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `modal__close-icon modal__close-icon_type_${props.name}`,\n          type: \"button\",\n          \"aria-label\": \"close button\",\n          onClick: props.onClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: `edit-box edit-box_type_${props.name}`,\n          name: `form-${props.name}`,\n          onSubmit: props.onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"edit-box__title\",\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 25\n          }, this), props.children, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"edit-box__button edit-box__button_edit\",\n            type: \"submit\",\n            \"aria-label\": \"save button\",\n            \"data-textcontent\": \"Save\",\n            children: props.isLoading ? props.loadingText : props.buttonText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(PopupWithForm, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = PopupWithForm;\nexport default PopupWithForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupWithForm\");","map":{"version":3,"sources":["/Users/colinmaretsky/dev/react-around-auth/src/components/PopupWithForm.js"],"names":["React","PopupWithForm","props","useEffect","close","e","key","onClose","isOpen","window","addEventListener","removeEventListener","handleClickOutside","target","classList","contains","preventDefault","name","onSubmit","title","children","isLoading","loadingText","buttonText"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAE1BF,EAAAA,KAAK,CAACG,SAAN,CAAgB,MAAM;AAClB,aAASC,KAAT,CAAeC,CAAf,EAAkB;AACd,UAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;AACpBJ,QAAAA,KAAK,CAACK,OAAN;AACH;AACJ;;AAAA;AACDL,IAAAA,KAAK,CAACM,MAAN,IAAgBC,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCN,KAAnC,CAAhB;AACA,WAAO,MAAMK,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCP,KAAtC,CAAb;AACH,GARD,EAQG,CAACF,KAAD,CARH;;AAUA,WAASU,kBAAT,CAA4BP,CAA5B,EAA+B;AAC3B,QAAIA,CAAC,CAACQ,MAAF,CAASC,SAAT,CAAmBC,QAAnB,CAA4B,OAA5B,CAAJ,EAA0C;AACtCV,MAAAA,CAAC,CAACW,cAAF;AACAd,MAAAA,KAAK,CAACK,OAAN;AACH;AACJ;;AAED,sBACI;AAAA,2BACI;AAAK,MAAA,SAAS,EAAG,oBAAmBL,KAAK,CAACe,IAAK,IAAGf,KAAK,CAACM,MAAN,GAAe,YAAf,GAA8B,EAAG,EAAnF;AAAsF,MAAA,OAAO,EAAEI,kBAA/F;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACI;AAAQ,UAAA,SAAS,EAAG,4CAA2CV,KAAK,CAACe,IAAK,EAA1E;AAA6E,UAAA,IAAI,EAAC,QAAlF;AACI,wBAAW,cADf;AAC8B,UAAA,OAAO,EAAEf,KAAK,CAACK;AAD7C;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI;AAAM,UAAA,SAAS,EAAG,0BAAyBL,KAAK,CAACe,IAAK,EAAtD;AAAyD,UAAA,IAAI,EAAG,QAAOf,KAAK,CAACe,IAAK,EAAlF;AAAqF,UAAA,QAAQ,EAAEf,KAAK,CAACgB,QAArG;AAAA,kCACI;AAAI,YAAA,SAAS,EAAC,iBAAd;AAAA,sBAAiChB,KAAK,CAACiB;AAAvC;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEKjB,KAAK,CAACkB,QAFX,eAGI;AAAQ,YAAA,SAAS,EAAC,wCAAlB;AAA2D,YAAA,IAAI,EAAC,QAAhE;AACI,0BAAW,aADf;AAC6B,gCAAiB,MAD9C;AAAA,sBACsDlB,KAAK,CAACmB,SAAN,GAAkBnB,KAAK,CAACoB,WAAxB,GAAsCpB,KAAK,CAACqB;AADlG;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAgBH;;GAnCQtB,a;;KAAAA,a;AAqCT,eAAeA,aAAf","sourcesContent":["import React from 'react';\n\nfunction PopupWithForm(props) {\n\n    React.useEffect(() => {\n        function close(e) {\n            if (e.key === 'Escape') {\n                props.onClose();\n            }\n        };\n        props.isOpen && window.addEventListener('keydown', close);\n        return () => window.removeEventListener('keydown', close);\n    }, [props]);\n\n    function handleClickOutside(e) {\n        if (e.target.classList.contains('modal')) {\n            e.preventDefault();\n            props.onClose();\n        }\n    }\n\n    return (\n        <>\n            <div className={`modal modal_type_${props.name} ${props.isOpen ? 'modal_open' : ''}`} onClick={handleClickOutside}>\n                <div className=\"modal__container\">\n                    <button className={`modal__close-icon modal__close-icon_type_${props.name}`} type=\"button\"\n                        aria-label=\"close button\" onClick={props.onClose}></button>\n                    <form className={`edit-box edit-box_type_${props.name}`} name={`form-${props.name}`} onSubmit={props.onSubmit}>\n                        <h2 className=\"edit-box__title\">{props.title}</h2>\n                        {props.children}\n                        <button className='edit-box__button edit-box__button_edit' type=\"submit\"\n                            aria-label=\"save button\" data-textcontent=\"Save\">{props.isLoading ? props.loadingText : props.buttonText}</button>\n                    </form>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default PopupWithForm;"]},"metadata":{},"sourceType":"module"}