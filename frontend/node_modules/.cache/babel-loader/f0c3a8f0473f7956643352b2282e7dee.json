{"ast":null,"code":"import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PopupWithForm(props){React.useEffect(function(){function close(e){if(e.key==='Escape'){props.onClose();}};props.isOpen&&window.addEventListener('keydown',close);return function(){return window.removeEventListener('keydown',close);};},[props]);function handleClickOutside(e){if(e.target.classList.contains('modal')){e.preventDefault();props.onClose();}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal modal_type_\".concat(props.name,\" \").concat(props.isOpen?'modal_open':''),onClick:handleClickOutside,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal__container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal__close-icon modal__close-icon_type_\".concat(props.name),type:\"button\",\"aria-label\":\"close button\",onClick:props.onClose}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-box edit-box_type_\".concat(props.name),name:\"form-\".concat(props.name),onSubmit:props.onSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"edit-box__title\",children:props.title}),props.children,/*#__PURE__*/_jsx(\"button\",{className:\"edit-box__button edit-box__button_edit\",type:\"submit\",\"aria-label\":\"save button\",\"data-textcontent\":\"Save\",children:props.isLoading?props.loadingText:props.buttonText})]})]})})});}export default PopupWithForm;","map":{"version":3,"sources":["/Users/colinmaretsky/dev/react-around-auth/src/components/PopupWithForm.js"],"names":["React","PopupWithForm","props","useEffect","close","e","key","onClose","isOpen","window","addEventListener","removeEventListener","handleClickOutside","target","classList","contains","preventDefault","name","onSubmit","title","children","isLoading","loadingText","buttonText"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAE1BF,KAAK,CAACG,SAAN,CAAgB,UAAM,CAClB,QAASC,CAAAA,KAAT,CAAeC,CAAf,CAAkB,CACd,GAAIA,CAAC,CAACC,GAAF,GAAU,QAAd,CAAwB,CACpBJ,KAAK,CAACK,OAAN,GACH,CACJ,EACDL,KAAK,CAACM,MAAN,EAAgBC,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCN,KAAnC,CAAhB,CACA,MAAO,kBAAMK,CAAAA,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCP,KAAtC,CAAN,EAAP,CACH,CARD,CAQG,CAACF,KAAD,CARH,EAUA,QAASU,CAAAA,kBAAT,CAA4BP,CAA5B,CAA+B,CAC3B,GAAIA,CAAC,CAACQ,MAAF,CAASC,SAAT,CAAmBC,QAAnB,CAA4B,OAA5B,CAAJ,CAA0C,CACtCV,CAAC,CAACW,cAAF,GACAd,KAAK,CAACK,OAAN,GACH,CACJ,CAED,mBACI,sCACI,YAAK,SAAS,4BAAsBL,KAAK,CAACe,IAA5B,aAAoCf,KAAK,CAACM,MAAN,CAAe,YAAf,CAA8B,EAAlE,CAAd,CAAsF,OAAO,CAAEI,kBAA/F,uBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,eAAQ,SAAS,oDAA8CV,KAAK,CAACe,IAApD,CAAjB,CAA6E,IAAI,CAAC,QAAlF,CACI,aAAW,cADf,CAC8B,OAAO,CAAEf,KAAK,CAACK,OAD7C,EADJ,cAGI,cAAM,SAAS,kCAA4BL,KAAK,CAACe,IAAlC,CAAf,CAAyD,IAAI,gBAAUf,KAAK,CAACe,IAAhB,CAA7D,CAAqF,QAAQ,CAAEf,KAAK,CAACgB,QAArG,wBACI,WAAI,SAAS,CAAC,iBAAd,UAAiChB,KAAK,CAACiB,KAAvC,EADJ,CAEKjB,KAAK,CAACkB,QAFX,cAGI,eAAQ,SAAS,CAAC,wCAAlB,CAA2D,IAAI,CAAC,QAAhE,CACI,aAAW,aADf,CAC6B,mBAAiB,MAD9C,UACsDlB,KAAK,CAACmB,SAAN,CAAkBnB,KAAK,CAACoB,WAAxB,CAAsCpB,KAAK,CAACqB,UADlG,EAHJ,GAHJ,GADJ,EADJ,EADJ,CAgBH,CAED,cAAetB,CAAAA,aAAf","sourcesContent":["import React from 'react';\n\nfunction PopupWithForm(props) {\n\n    React.useEffect(() => {\n        function close(e) {\n            if (e.key === 'Escape') {\n                props.onClose();\n            }\n        };\n        props.isOpen && window.addEventListener('keydown', close);\n        return () => window.removeEventListener('keydown', close);\n    }, [props]);\n\n    function handleClickOutside(e) {\n        if (e.target.classList.contains('modal')) {\n            e.preventDefault();\n            props.onClose();\n        }\n    }\n\n    return (\n        <>\n            <div className={`modal modal_type_${props.name} ${props.isOpen ? 'modal_open' : ''}`} onClick={handleClickOutside}>\n                <div className=\"modal__container\">\n                    <button className={`modal__close-icon modal__close-icon_type_${props.name}`} type=\"button\"\n                        aria-label=\"close button\" onClick={props.onClose}></button>\n                    <form className={`edit-box edit-box_type_${props.name}`} name={`form-${props.name}`} onSubmit={props.onSubmit}>\n                        <h2 className=\"edit-box__title\">{props.title}</h2>\n                        {props.children}\n                        <button className='edit-box__button edit-box__button_edit' type=\"submit\"\n                            aria-label=\"save button\" data-textcontent=\"Save\">{props.isLoading ? props.loadingText : props.buttonText}</button>\n                    </form>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default PopupWithForm;"]},"metadata":{},"sourceType":"module"}