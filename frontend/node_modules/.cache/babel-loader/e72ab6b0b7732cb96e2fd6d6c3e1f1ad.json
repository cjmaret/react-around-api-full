{"ast":null,"code":"import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(props){React.useEffect(function(){function close(e){if(e.key===\"Escape\"){props.onClose();}}props.isOpen&&window.addEventListener(\"keydown\",close);return function(){return window.removeEventListener(\"keydown\",close);};},[props]);function handleClickOutside(e){if(e.target.classList.contains(\"modal\")){e.preventDefault();props.onClose();}}return/*#__PURE__*/_jsx(\"div\",{className:\"modal modal_type_\".concat(props.name,\" \").concat(props.isOpen?\"modal_open\":\"\"),onClick:handleClickOutside,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal__container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal__close-icon modal__close-icon_type_\".concat(props.name),type:\"button\",\"aria-label\":\"close button\",onClick:props.onClose}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-box edit-box_type_\".concat(props.name),name:\"form-\".concat(props.name),onSubmit:props.onSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"edit-box__title\",children:props.title}),props.children,/*#__PURE__*/_jsx(\"button\",{className:\"edit-box__button edit-box__button_edit\",type:\"submit\",\"aria-label\":\"save button\",\"data-textcontent\":\"Save\",children:props.isLoading?props.loadingText:props.buttonText})]})]})});}export default PopupWithForm;","map":{"version":3,"sources":["/Users/colinmaretsky/dev/react-around-api-full/frontend/src/components/PopupWithForm.js"],"names":["React","PopupWithForm","props","useEffect","close","e","key","onClose","isOpen","window","addEventListener","removeEventListener","handleClickOutside","target","classList","contains","preventDefault","name","onSubmit","title","children","isLoading","loadingText","buttonText"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC5BF,KAAK,CAACG,SAAN,CAAgB,UAAM,CACpB,QAASC,CAAAA,KAAT,CAAeC,CAAf,CAAkB,CAChB,GAAIA,CAAC,CAACC,GAAF,GAAU,QAAd,CAAwB,CACtBJ,KAAK,CAACK,OAAN,GACD,CACF,CACDL,KAAK,CAACM,MAAN,EAAgBC,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCN,KAAnC,CAAhB,CACA,MAAO,kBAAMK,CAAAA,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCP,KAAtC,CAAN,EAAP,CACD,CARD,CAQG,CAACF,KAAD,CARH,EAUA,QAASU,CAAAA,kBAAT,CAA4BP,CAA5B,CAA+B,CAC7B,GAAIA,CAAC,CAACQ,MAAF,CAASC,SAAT,CAAmBC,QAAnB,CAA4B,OAA5B,CAAJ,CAA0C,CACxCV,CAAC,CAACW,cAAF,GACAd,KAAK,CAACK,OAAN,GACD,CACF,CAED,mBACE,YACE,SAAS,4BAAsBL,KAAK,CAACe,IAA5B,aACPf,KAAK,CAACM,MAAN,CAAe,YAAf,CAA8B,EADvB,CADX,CAIE,OAAO,CAAEI,kBAJX,uBAME,aAAK,SAAS,CAAC,kBAAf,wBACE,eACE,SAAS,oDAA8CV,KAAK,CAACe,IAApD,CADX,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,cAHb,CAIE,OAAO,CAAEf,KAAK,CAACK,OAJjB,EADF,cAOE,cACE,SAAS,kCAA4BL,KAAK,CAACe,IAAlC,CADX,CAEE,IAAI,gBAAUf,KAAK,CAACe,IAAhB,CAFN,CAGE,QAAQ,CAAEf,KAAK,CAACgB,QAHlB,wBAKE,WAAI,SAAS,CAAC,iBAAd,UAAiChB,KAAK,CAACiB,KAAvC,EALF,CAMGjB,KAAK,CAACkB,QANT,cAOE,eACE,SAAS,CAAC,wCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,aAHb,CAIE,mBAAiB,MAJnB,UAMGlB,KAAK,CAACmB,SAAN,CAAkBnB,KAAK,CAACoB,WAAxB,CAAsCpB,KAAK,CAACqB,UAN/C,EAPF,GAPF,GANF,EADF,CAiCD,CAED,cAAetB,CAAAA,aAAf","sourcesContent":["import React from \"react\";\n\nfunction PopupWithForm(props) {\n  React.useEffect(() => {\n    function close(e) {\n      if (e.key === \"Escape\") {\n        props.onClose();\n      }\n    }\n    props.isOpen && window.addEventListener(\"keydown\", close);\n    return () => window.removeEventListener(\"keydown\", close);\n  }, [props]);\n\n  function handleClickOutside(e) {\n    if (e.target.classList.contains(\"modal\")) {\n      e.preventDefault();\n      props.onClose();\n    }\n  }\n\n  return (\n    <div\n      className={`modal modal_type_${props.name} ${\n        props.isOpen ? \"modal_open\" : \"\"\n      }`}\n      onClick={handleClickOutside}\n    >\n      <div className=\"modal__container\">\n        <button\n          className={`modal__close-icon modal__close-icon_type_${props.name}`}\n          type=\"button\"\n          aria-label=\"close button\"\n          onClick={props.onClose}\n        ></button>\n        <form\n          className={`edit-box edit-box_type_${props.name}`}\n          name={`form-${props.name}`}\n          onSubmit={props.onSubmit}\n        >\n          <h2 className=\"edit-box__title\">{props.title}</h2>\n          {props.children}\n          <button\n            className=\"edit-box__button edit-box__button_edit\"\n            type=\"submit\"\n            aria-label=\"save button\"\n            data-textcontent=\"Save\"\n          >\n            {props.isLoading ? props.loadingText : props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n"]},"metadata":{},"sourceType":"module"}